import{p as I,r as R,s as B,c,a as ae,w as P,o as oe,b as le,m as X,g as F,u as se,d as ne,e as q,t as x,f as z,h as n,i as E,j as re,k as ue,V as L,I as ie,l as G,n as ce,q as J,v as K,x as Q,y as de,z as Z,A as ee,B as ve,C as me,D as ge,E as he,F as fe,M as be,G as ye,H as Ve,J as te,K as Se,L as ke,N as pe,O as we,P as _e,Q as Be,R as xe,_ as Ce,S as Le,T as Ie,U as Te,W as Ae,X as Pe,Y as i,Z as p,$ as S,a0 as d,a1 as w,a2 as _,a3 as $,a4 as N,a5 as C,a6 as Ne,a7 as D,a8 as U,a9 as Re,aa as Ee,ab as Fe}from"./index-fb5da850.js";import{V as ze,a as $e}from"./VNavigationDrawer-28dfd805.js";import{m as Ue,V as Y}from"./VToolbar-c68c437a.js";import{u as De}from"./ssrBoot-9e5fb0a7.js";import{V as j,a as O,b as He}from"./VList-48f2ef6b.js";import{V as Me}from"./VContainer-ec30530f.js";import{V as Ye,a as je}from"./VRow-e1cfd3f8.js";import"./VDivider-7e8afcbd.js";const Oe=I({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function We(e){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:g}=m;let f=0;const t=R(null),o=B(0),b=B(0),v=B(0),V=B(!1),y=B(!1),s=c(()=>Number(e.scrollThreshold)),h=c(()=>ae((s.value-o.value)/s.value||0)),r=()=>{const l=t.value;!l||g&&!g.value||(f=o.value,o.value="window"in l?l.pageYOffset:l.scrollTop,y.value=o.value<f,v.value=Math.abs(o.value-s.value))};return P(y,()=>{b.value=b.value||o.value}),P(V,()=>{b.value=0}),oe(()=>{P(()=>e.scrollTarget,l=>{var k;const a=l?document.querySelector(l):window;a&&a!==t.value&&((k=t.value)==null||k.removeEventListener("scroll",r),t.value=a,t.value.addEventListener("scroll",r,{passive:!0}))},{immediate:!0})}),le(()=>{var l;(l=t.value)==null||l.removeEventListener("scroll",r)}),g&&P(g,r,{immediate:!0}),{scrollThreshold:s,currentScroll:o,currentThreshold:v,isScrollActive:V,scrollRatio:h,isScrollingUp:y,savedScroll:b}}const Xe=I({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...Ue(),...X(),...Oe(),height:{type:[Number,String],default:64}},"VAppBar"),qe=F()({name:"VAppBar",props:Xe(),emits:{"update:modelValue":e=>!0},setup(e,m){let{slots:g}=m;const f=R(),t=se(e,"modelValue"),o=c(()=>{var A;const u=new Set(((A=e.scrollBehavior)==null?void 0:A.split(" "))??[]);return{hide:u.has("hide"),inverted:u.has("inverted"),collapse:u.has("collapse"),elevate:u.has("elevate"),fadeImage:u.has("fade-image")}}),b=c(()=>{const u=o.value;return u.hide||u.inverted||u.collapse||u.elevate||u.fadeImage||!t.value}),{currentScroll:v,scrollThreshold:V,isScrollingUp:y,scrollRatio:s}=We(e,{canScroll:b}),h=c(()=>e.collapse||o.value.collapse&&(o.value.inverted?s.value>0:s.value===0)),r=c(()=>e.flat||o.value.elevate&&(o.value.inverted?v.value>0:v.value===0)),l=c(()=>o.value.fadeImage?o.value.inverted?1-s.value:s.value:void 0),a=c(()=>{var H,M;if(o.value.hide&&o.value.inverted)return 0;const u=((H=f.value)==null?void 0:H.contentHeight)??0,A=((M=f.value)==null?void 0:M.extensionHeight)??0;return u+A});ne(c(()=>!!e.scrollBehavior),()=>{re(()=>{o.value.hide?o.value.inverted?t.value=v.value>V.value:t.value=y.value||v.value<V.value:t.value=!0})});const{ssrBootStyles:k}=De(),{layoutItemStyles:T}=q({id:e.name,order:c(()=>parseInt(e.order,10)),position:x(e,"location"),layoutSize:a,elementSize:B(void 0),active:t,absolute:x(e,"absolute")});return z(()=>{const u=Y.filterProps(e);return n(Y,E({ref:f,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...T.value,"--v-toolbar-image-opacity":l.value,height:void 0,...k.value},e.style]},u,{collapse:h.value,flat:r.value}),g)}),{}}}),Ge=I({...ue({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),Je=F()({name:"VAppBarNavIcon",props:Ge(),setup(e,m){let{slots:g}=m;return z(()=>n(L,E(e,{class:["v-app-bar-nav-icon"]}),g)),{}}});const Ke=I({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:ie,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...G(),...ce({location:"top end"}),...J(),...K(),...Q(),...de({transition:"scale-rotate-transition"})},"VBadge"),W=F()({name:"VBadge",inheritAttrs:!1,props:Ke(),setup(e,m){const{backgroundColorClasses:g,backgroundColorStyles:f}=Z(x(e,"color")),{roundedClasses:t}=ee(e),{t:o}=ve(),{textColorClasses:b,textColorStyles:v}=me(x(e,"textColor")),{themeClasses:V}=ge(),{locationStyles:y}=he(e,!0,s=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(s)?+(e.offsetY??0):["left","right"].includes(s)?+(e.offsetX??0):0));return z(()=>{const s=Number(e.content),h=!e.max||isNaN(s)?e.content:s<=+e.max?s:`${e.max}+`,[r,l]=fe(m.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return n(e.tag,E({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},l,{style:e.style}),{default:()=>{var a,k;return[n("div",{class:"v-badge__wrapper"},[(k=(a=m.slots).default)==null?void 0:k.call(a),n(be,{transition:e.transition},{default:()=>{var T,u;return[ye(n("span",E({class:["v-badge__badge",V.value,g.value,t.value,b.value],style:[f.value,v.value,e.inline?{}:y.value],"aria-atomic":"true","aria-label":o(e.label,s),"aria-live":"polite",role:"status"},r),[e.dot?void 0:m.slots.badge?(u=(T=m.slots).badge)==null?void 0:u.call(T):e.icon?n(te,{icon:e.icon},null):h]),[[Ve,e.modelValue]])]}})])]}})}),{}}});const Qe=I({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Se(),...G(),...ke(),...X(),...J(),...K({tag:"footer"}),...Q()},"VFooter"),Ze=F()({name:"VFooter",props:Qe(),setup(e,m){let{slots:g}=m;const{themeClasses:f}=pe(e),{backgroundColorClasses:t,backgroundColorStyles:o}=Z(x(e,"color")),{borderClasses:b}=we(e),{elevationClasses:v}=_e(e),{roundedClasses:V}=ee(e),y=B(32),{resizeRef:s}=Be(l=>{l.length&&(y.value=l[0].target.clientHeight)}),h=c(()=>e.height==="auto"?y.value:parseInt(e.height,10)),{layoutItemStyles:r}=q({id:e.name,order:c(()=>parseInt(e.order,10)),position:c(()=>"bottom"),layoutSize:h,elementSize:c(()=>e.height==="auto"?void 0:h.value),active:c(()=>e.app),absolute:x(e,"absolute")});return z(()=>n(e.tag,{ref:s,class:["v-footer",f.value,t.value,b.value,v.value,V.value,e.class],style:[o.value,e.app?r.value:{height:xe(e.height)},e.style]},g)),{}}}),et=""+new URL("logo2-88039d02.png",import.meta.url).href;const tt=e=>(Re("data-v-284ba625"),e=e(),Ee(),e),at=tt(()=>D("div",{class:"d-flex justify-center"},[D("img",{class:"",src:et,width:"45%"})],-1)),ot={__name:"FrontLayout",setup(e){const{apiAuth:m}=Fe(),g=Le(),f=Ie(),t=Te(),{mobile:o}=Ae(),b=c(()=>o.value),v=R(!1),V=c(()=>[{to:"/about",text:"關於發記",show:!t.isAdmin},{to:"/news",text:"最新消息",show:!1},{to:"/introduce",text:"冰品介紹",show:!t.isAdmin},{to:"/product",text:"快速預訂",show:!t.isAdmin},{to:"/content",text:"聯繫我們",show:!t.isAdmin},{to:"/cart",text:"我的購物車",show:t.isLogin&&!t.isAdmin},{to:"/signup",text:"會員專區",show:!t.isLogin},{to:"/member",text:"會員專區",show:t.isLogin&&!t.isAdmin},{to:"/admin",text:"管理",show:t.isLogin&&t.isAdmin}]),y=async()=>{var h,r;try{await m.delete("/users/logout"),t.logout(),f({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"buttom"}}),g.push("/")}catch(l){const a=((r=(h=l==null?void 0:l.response)==null?void 0:h.data)==null?void 0:r.message)||"登出失敗";f({text:a,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"buttom"}})}},s=R([{name:"mdi-facebook",link:"https://www.facebook.com/Eurbgj/?locale=zh_TW"},{name:"mdi-instagram",link:"https://www.instagram.com"}]);return(h,r)=>{const l=Pe("router-view");return i(),p(_,null,[b.value?(i(),S(ze,{key:0,modelValue:v.value,"onUpdate:modelValue":r[0]||(r[0]=a=>v.value=a),temporary:"",location:"left",width:"256"},{default:d(()=>[n(He,{nav:""},{default:d(()=>[(i(!0),p(_,null,$(V.value,a=>(i(),p(_,{key:a.to},[a.show?(i(),S(j,{key:0,to:a.to},{append:d(()=>[a.to==="/cart"?(i(),S(W,{key:0,color:"seventh",content:N(t).cart,inline:""},null,8,["content"])):w("",!0)]),default:d(()=>[n(O,{class:"list-style"},{default:d(()=>[C(U(a.text),1)]),_:2},1024)]),_:2},1032,["to"])):w("",!0)],64))),128)),N(t).isLogin?(i(),S(j,{key:0,onClick:y},{default:d(()=>[n(O,{class:"text-caption","d-flex":"","justify-center":""},{default:d(()=>[n(te,{start:"",size:"medium",icon:"mdi-logout"}),C("登出 ")]),_:1})]),_:1})):w("",!0)]),_:1})]),_:1},8,["modelValue"])):w("",!0),n(qe,{class:"white",style:{height:"64px"}},{default:d(()=>[n(Me,{class:"d-flex align-center"},{default:d(()=>[n(L,{to:"/",active:!1,color:"third"},{default:d(()=>[at]),_:1}),n(Ne),b.value?(i(),S(Je,{key:0,onClick:r[1]||(r[1]=a=>v.value=!0)})):(i(),p(_,{key:1},[(i(!0),p(_,null,$(V.value,a=>(i(),p(_,{key:a.to},[a.show?(i(),S(L,{key:0,to:a.to,color:"ninth"},{default:d(()=>[C(U(a.text)+" ",1),a.to==="/cart"?(i(),S(W,{key:0,color:"seventh",content:N(t).cart,floating:""},null,8,["content"])):w("",!0)]),_:2},1032,["to"])):w("",!0)],64))),128)),N(t).isLogin?(i(),S(L,{key:0,"prepend-icon":"mdi-logout",onClick:y,color:"seventh"},{default:d(()=>[C("登出")]),_:1})):w("",!0)],64))]),_:1})]),_:1}),n($e,{style:{"min-height":"100vh"},class:"bg-image"},{default:d(()=>[(i(),S(l,{key:h.$route.path}))]),_:1}),n(Ze,{class:"mt-1 px-0"},{default:d(()=>[n(Ye,{class:"text-center bg-third"},{default:d(()=>[n(je,{cols:"12"},{default:d(()=>[D("strong",null,[C(" ©"+U(new Date().getFullYear())+"   -   發記冰品 Co.,Ltd. ALL RIGHTS RESERVED ",1),(i(!0),p(_,null,$(s.value,a=>(i(),S(L,{key:a,class:"ms-4",icon:a.name,href:a.link,target:"_blank",variant:"plain",size:"small"},null,8,["icon","href"]))),128))])]),_:1})]),_:1})]),_:1})],64)}}},vt=Ce(ot,[["__scopeId","data-v-284ba625"]]);export{vt as default};
