import{_ as U,$ as P,Z as I,x as s,a2 as q,a4 as N,a5 as l,c as e,am as T,aj as h,ak as w,aa as f,ac as v,ad as z,an as u,J as x,ae as A,af as F,ag as j}from"./index-3cb9c7dd.js";import{V as D,a as p}from"./VRow-a5871ec6.js";import{V as g}from"./VForm-4962a3ee.js";import{V as S}from"./VContainer-22b2ab90.js";const k=d=>(A("data-v-2462f1dd"),d=d(),F(),d),E=k(()=>v("h2",{class:"text-center"},"修改個人資料",-1)),J=k(()=>v("h4",null,"帳號",-1)),M={color:"forth",class:"pb-4"},R={__name:"ProfileView",setup(d){const{apiAuth:y}=j(),n=P(),_=I(),V=s(""),t=s(""),i=s(""),c=s("");i.value=n.name,c.value=n.phone,V.value=n.account,t.value=n.password;const b=s({required:r=>!!r||"必填欄位"}),m=s(!1),C=async()=>{var r,o;m.value=!0;try{await y.patch("/users",{name:i.value,phone:c.value}),_({text:"更新成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}})}catch(a){console.error(a);const B=((o=(r=a==null?void 0:a.response)==null?void 0:r.data)==null?void 0:o.message)||"發生錯誤，請稍後再試";_({text:B,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(r,o)=>(q(),N(D,null,{default:l(()=>[e(p,{cols:"12"},{default:l(()=>[E]),_:1}),e(p,{cols:"12",md:"6"},{default:l(()=>[e(g,{disabled:m.value,onSubmit:T(C,["prevent"])},{default:l(()=>[e(h,{class:"mx-auto","max-width":"344"},{default:l(()=>[e(w,{class:"third font-weight-bold text-center"},{default:l(()=>[f("個人基本資料")]),_:1}),e(S,null,{default:l(()=>[J,v("h4",M,z(V.value),1),e(u,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=a=>i.value=a),color:"forth",label:"名字",variant:"underlined",clearable:"",rules:[b.value.required]},null,8,["modelValue","rules"]),e(u,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=a=>c.value=a),color:"forth",label:"手機",placeholder:"Enter your password",variant:"underlined",clearable:"",rules:[b.value.required]},null,8,["modelValue","rules"])]),_:1}),e(x,{color:"forth",size:"x-large",class:"font-weight-bold d-flex w-100",variant:"tonal",type:"submit",disabled:m.value},{default:l(()=>[f(" 確認修改個人資料 ")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["disabled"])]),_:1}),e(p,{cols:"12",md:"6"},{default:l(()=>[e(g,null,{default:l(()=>[e(h,{class:"mx-auto","max-width":"344"},{default:l(()=>[e(w,{class:"third font-weight-bold text-center"},{default:l(()=>[f("修改密碼")]),_:1}),e(S,null,{default:l(()=>[e(u,{modelValue:t.value,"onUpdate:modelValue":o[2]||(o[2]=a=>t.value=a),color:"forth",label:"舊密碼",variant:"underlined",clearable:""},null,8,["modelValue"]),e(u,{modelValue:t.value,"onUpdate:modelValue":o[3]||(o[3]=a=>t.value=a),color:"forth",label:"輸入新密碼",variant:"underlined",clearable:""},null,8,["modelValue"]),e(u,{modelValue:t.value,"onUpdate:modelValue":o[4]||(o[4]=a=>t.value=a),color:"forth",label:"確認新密碼",variant:"underlined",clearable:""},null,8,["modelValue"])]),_:1}),e(x,{color:"forth",size:"x-large",class:"font-weight-bold d-flex w-100",block:"",variant:"tonal"},{default:l(()=>[f(" 確認修改密碼 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},K=U(R,[["__scopeId","data-v-2462f1dd"]]);export{K as default};
