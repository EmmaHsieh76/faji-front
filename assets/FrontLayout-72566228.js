import{p as N,m as U,a as M,g as L,u as P,c as o,b as te,d as ae,e as X,f as q,h as G,t as I,i as oe,j as le,k as J,l as se,n as ce,s as k,o as c,q as de,V as ve,r as Y,v as p,w as me,x as z,y as ge,z as H,A as fe,B as he,C as ne,D as be,E as ye,F as re,G as D,H as Ve,I as Se,J as F,K as xe,L as ke,M as _e,N as we,O as Be,P as Ce,Q as Te,R as Ie,S as Ne,T as Le,U as Pe,W as ie,X as Ae,_ as Re,Y as Ee,Z as pe,$ as Fe,a0 as He,a1 as $e,a2 as f,a3 as B,a4 as S,a5 as h,a6 as C,a7 as T,a8 as j,a9 as $,aa as E,ab as ze,ac as W,ad as O,ae as De,af as Ue,ag as Me}from"./index-548a40d7.js";import{V as Ye,a as je}from"./VNavigationDrawer-341c46b4.js";import{u as Oe}from"./ssrBoot-5791f43f.js";import{V as K,a as Q,b as We}from"./VList-713811fd.js";import{V as Xe}from"./VContainer-c708ab66.js";import{V as qe,a as Ge}from"./VRow-ac47f656.js";import"./VDivider-4a06bcd9.js";const Je=N({text:String,...U(),...M()},"VToolbarTitle"),Ke=L()({name:"VToolbarTitle",props:Je(),setup(e,d){let{slots:t}=d;return P(()=>{const m=!!(t.default||t.text||e.text);return o(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var a;return[m&&o("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(a=t.default)==null?void 0:a.call(t)])]}})}),{}}}),Qe=[null,"prominent","default","comfortable","compact"],ue=N({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Qe.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...te(),...U(),...ae(),...X(),...M({tag:"header"}),...q()},"VToolbar"),Z=L()({name:"VToolbar",props:ue(),setup(e,d){var n;let{slots:t}=d;const{backgroundColorClasses:m,backgroundColorStyles:a}=G(I(e,"color")),{borderClasses:s}=oe(e),{elevationClasses:b}=le(e),{roundedClasses:g}=J(e),{themeClasses:V}=se(e),{rtlClasses:y}=ce(),r=k(!!(e.extended||(n=t.extension)!=null&&n.call(t))),v=c(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),i=c(()=>r.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return de({VBtn:{variant:"text"}}),P(()=>{var u;const l=!!(e.title||t.title),x=!!(t.image||e.image),_=(u=t.extension)==null?void 0:u.call(t);return r.value=!!(e.extended||_),o(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},m.value,s.value,b.value,g.value,V.value,y.value,e.class],style:[a.value,e.style]},{default:()=>[x&&o("div",{key:"image",class:"v-toolbar__image"},[t.image?o(Y,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):o(ve,{key:"image-img",cover:!0,src:e.image},null)]),o(Y,{defaults:{VTabs:{height:p(v.value)}}},{default:()=>{var w,A,R;return[o("div",{class:"v-toolbar__content",style:{height:p(v.value)}},[t.prepend&&o("div",{class:"v-toolbar__prepend"},[(w=t.prepend)==null?void 0:w.call(t)]),l&&o(Ke,{key:"title",text:e.title},{text:t.title}),(A=t.default)==null?void 0:A.call(t),t.append&&o("div",{class:"v-toolbar__append"},[(R=t.append)==null?void 0:R.call(t)])])]}}),o(Y,{defaults:{VTabs:{height:p(i.value)}}},{default:()=>[o(me,null,{default:()=>[r.value&&o("div",{class:"v-toolbar__extension",style:{height:p(i.value)}},[_])]})]})]})}),{contentHeight:v,extensionHeight:i}}}),Ze=N({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function et(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=d;let m=0;const a=z(null),s=k(0),b=k(0),g=k(0),V=k(!1),y=k(!1),r=c(()=>Number(e.scrollThreshold)),v=c(()=>ge((r.value-s.value)/r.value||0)),i=()=>{const n=a.value;!n||t&&!t.value||(m=s.value,s.value="window"in n?n.pageYOffset:n.scrollTop,y.value=s.value<m,g.value=Math.abs(s.value-r.value))};return H(y,()=>{b.value=b.value||s.value}),H(V,()=>{b.value=0}),fe(()=>{H(()=>e.scrollTarget,n=>{var x;const l=n?document.querySelector(n):window;l&&l!==a.value&&((x=a.value)==null||x.removeEventListener("scroll",i),a.value=l,a.value.addEventListener("scroll",i,{passive:!0}))},{immediate:!0})}),he(()=>{var n;(n=a.value)==null||n.removeEventListener("scroll",i)}),t&&H(t,i,{immediate:!0}),{scrollThreshold:r,currentScroll:s,currentThreshold:g,isScrollActive:V,scrollRatio:v,isScrollingUp:y,savedScroll:b}}const tt=N({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...ue(),...ne(),...Ze(),height:{type:[Number,String],default:64}},"VAppBar"),at=L()({name:"VAppBar",props:tt(),emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:t}=d;const m=z(),a=be(e,"modelValue"),s=c(()=>{var w;const u=new Set(((w=e.scrollBehavior)==null?void 0:w.split(" "))??[]);return{hide:u.has("hide"),inverted:u.has("inverted"),collapse:u.has("collapse"),elevate:u.has("elevate"),fadeImage:u.has("fade-image")}}),b=c(()=>{const u=s.value;return u.hide||u.inverted||u.collapse||u.elevate||u.fadeImage||!a.value}),{currentScroll:g,scrollThreshold:V,isScrollingUp:y,scrollRatio:r}=et(e,{canScroll:b}),v=c(()=>e.collapse||s.value.collapse&&(s.value.inverted?r.value>0:r.value===0)),i=c(()=>e.flat||s.value.elevate&&(s.value.inverted?g.value>0:g.value===0)),n=c(()=>s.value.fadeImage?s.value.inverted?1-r.value:r.value:void 0),l=c(()=>{var A,R;if(s.value.hide&&s.value.inverted)return 0;const u=((A=m.value)==null?void 0:A.contentHeight)??0,w=((R=m.value)==null?void 0:R.extensionHeight)??0;return u+w});ye(c(()=>!!e.scrollBehavior),()=>{Ve(()=>{s.value.hide?s.value.inverted?a.value=g.value>V.value:a.value=y.value||g.value<V.value:a.value=!0})});const{ssrBootStyles:x}=Oe(),{layoutItemStyles:_}=re({id:e.name,order:c(()=>parseInt(e.order,10)),position:I(e,"location"),layoutSize:l,elementSize:k(void 0),active:a,absolute:I(e,"absolute")});return P(()=>{const u=Z.filterProps(e);return o(Z,D({ref:m,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{..._.value,"--v-toolbar-image-opacity":n.value,height:void 0,...x.value},e.style]},u,{collapse:v.value,flat:i.value}),t)}),{}}}),ot=N({...Se({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),lt=L()({name:"VAppBarNavIcon",props:ot(),setup(e,d){let{slots:t}=d;return P(()=>o(F,D(e,{class:["v-app-bar-nav-icon"]}),t)),{}}});const st=N({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:xe,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...U(),...ke({location:"top end"}),...X(),...M(),...q(),..._e({transition:"scale-rotate-transition"})},"VBadge"),ee=L()({name:"VBadge",inheritAttrs:!1,props:st(),setup(e,d){const{backgroundColorClasses:t,backgroundColorStyles:m}=G(I(e,"color")),{roundedClasses:a}=J(e),{t:s}=we(),{textColorClasses:b,textColorStyles:g}=Be(I(e,"textColor")),{themeClasses:V}=Ce(),{locationStyles:y}=Te(e,!0,r=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(r)?+(e.offsetY??0):["left","right"].includes(r)?+(e.offsetX??0):0));return P(()=>{const r=Number(e.content),v=!e.max||isNaN(r)?e.content:r<=+e.max?r:`${e.max}+`,[i,n]=Ie(d.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return o(e.tag,D({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},n,{style:e.style}),{default:()=>{var l,x;return[o("div",{class:"v-badge__wrapper"},[(x=(l=d.slots).default)==null?void 0:x.call(l),o(Ne,{transition:e.transition},{default:()=>{var _,u;return[Le(o("span",D({class:["v-badge__badge",V.value,t.value,a.value,b.value],style:[m.value,g.value,e.inline?{}:y.value],"aria-atomic":"true","aria-label":s(e.label,r),"aria-live":"polite",role:"status"},i),[e.dot?void 0:d.slots.badge?(u=(_=d.slots).badge)==null?void 0:u.call(_):e.icon?o(ie,{icon:e.icon},null):v]),[[Pe,e.modelValue]])]}})])]}})}),{}}});const nt=N({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...te(),...U(),...ae(),...ne(),...X(),...M({tag:"footer"}),...q()},"VFooter"),rt=L()({name:"VFooter",props:nt(),setup(e,d){let{slots:t}=d;const{themeClasses:m}=se(e),{backgroundColorClasses:a,backgroundColorStyles:s}=G(I(e,"color")),{borderClasses:b}=oe(e),{elevationClasses:g}=le(e),{roundedClasses:V}=J(e),y=k(32),{resizeRef:r}=Ae(n=>{n.length&&(y.value=n[0].target.clientHeight)}),v=c(()=>e.height==="auto"?y.value:parseInt(e.height,10)),{layoutItemStyles:i}=re({id:e.name,order:c(()=>parseInt(e.order,10)),position:c(()=>"bottom"),layoutSize:v,elementSize:c(()=>e.height==="auto"?void 0:v.value),active:c(()=>e.app),absolute:I(e,"absolute")});return P(()=>o(e.tag,{ref:r,class:["v-footer",m.value,a.value,b.value,g.value,V.value,e.class],style:[s.value,e.app?i.value:{height:p(e.height)},e.style]},t)),{}}}),it=""+new URL("logo14@2x-88039d02.png",import.meta.url).href;const ut=e=>(De("data-v-f7580ac3"),e=e(),Ue(),e),ct=ut(()=>W("div",{class:"d-flex justify-center"},[W("img",{class:"",src:it,width:"45%"})],-1)),dt={__name:"FrontLayout",setup(e){const{apiAuth:d}=Me(),t=Ee(),m=pe(),a=Fe(),{mobile:s}=He(),b=c(()=>s.value),g=z(!1),V=c(()=>[{to:"/about",text:"關於發記",show:!a.isAdmin},{to:"/news",text:"最新消息",show:!a.isAdmin},{to:"/introduce",text:"冰品介紹",show:!a.isAdmin},{to:"/product",text:"快速預訂",show:!0},{to:"/content",text:"聯繫我們",show:!a.isAdmin},{to:"/cart",text:"我的購物車",show:a.isLogin},{to:"/signup",text:"會員專區",show:!a.isLogin},{to:"/member",text:"會員專區",show:a.isLogin},{to:"/admin",text:"管理",show:a.isLogin&&a.isAdmin}]),y=async()=>{var v,i;try{await d.delete("/users/logout"),a.logout(),m({text:"登出成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"buttom"}}),t.push("/")}catch(n){const l=((i=(v=n==null?void 0:n.response)==null?void 0:v.data)==null?void 0:i.message)||"登出失敗";m({text:l,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"buttom"}})}},r=z([{name:"mdi-facebook",link:"https://www.facebook.com/Eurbgj/?locale=zh_TW"},{name:"mdi-instagram",link:"https://www.instagram.com"}]);return(v,i)=>{const n=$e("router-view");return f(),B(T,null,[b.value?(f(),S(Ye,{key:0,modelValue:g.value,"onUpdate:modelValue":i[0]||(i[0]=l=>g.value=l),temporary:"",location:"left",width:"256"},{default:h(()=>[o(We,{nav:""},{default:h(()=>[(f(!0),B(T,null,j(V.value,l=>(f(),B(T,{key:l.to},[l.show?(f(),S(K,{key:0,to:l.to},{append:h(()=>[l.to==="/cart"?(f(),S(ee,{key:0,color:"seventh",content:$(a).cart,inline:""},null,8,["content"])):C("",!0)]),default:h(()=>[o(Q,{class:"list-style"},{default:h(()=>[E(O(l.text),1)]),_:2},1024)]),_:2},1032,["to"])):C("",!0)],64))),128)),$(a).isLogin?(f(),S(K,{key:0,onClick:y},{default:h(()=>[o(Q,{class:"text-caption","d-flex":"","justify-center":""},{default:h(()=>[o(ie,{start:"",size:"medium",icon:"mdi-logout"}),E("登出 ")]),_:1})]),_:1})):C("",!0)]),_:1})]),_:1},8,["modelValue"])):C("",!0),o(at,{class:"white",style:{height:"64px"}},{default:h(()=>[o(Xe,{class:"d-flex align-center"},{default:h(()=>[o(F,{to:"/",active:!1,color:"third"},{default:h(()=>[ct]),_:1}),o(ze),b.value?(f(),S(lt,{key:0,onClick:i[1]||(i[1]=l=>g.value=!0)})):(f(),B(T,{key:1},[(f(!0),B(T,null,j(V.value,l=>(f(),B(T,{key:l.to},[l.show?(f(),S(F,{key:0,to:l.to,color:"ninth"},{default:h(()=>[E(O(l.text)+" ",1),l.to==="/cart"?(f(),S(ee,{key:0,color:"seventh",content:$(a).cart,floating:""},null,8,["content"])):C("",!0)]),_:2},1032,["to"])):C("",!0)],64))),128)),$(a).isLogin?(f(),S(F,{key:0,"prepend-icon":"mdi-logout",onClick:y,color:"seventh"},{default:h(()=>[E("登出")]),_:1})):C("",!0)],64))]),_:1})]),_:1}),o(je,{style:{"min-height":"100vh"}},{default:h(()=>[(f(),S(n,{key:v.$route.path}))]),_:1}),o(rt,{class:"pa-0"},{default:h(()=>[o(qe,{class:"text-center bg-third"},{default:h(()=>[o(Ge,{cols:"12"},{default:h(()=>[W("strong",null,[E(" ©"+O(new Date().getFullYear())+"   -   發記冰品 Co.,Ltd. ALL RIGHTS RESERVED ",1),(f(!0),B(T,null,j(r.value,l=>(f(),S(F,{key:l,class:"ms-4",icon:l.name,href:l.link,target:"_blank",variant:"plain",size:"small"},null,8,["icon","href"]))),128))])]),_:1})]),_:1})]),_:1})],64)}}},Vt=Re(dt,[["__scopeId","data-v-f7580ac3"]]);export{Vt as default};
